<html><head>
<style type="text/css">
.tick {fill:none;stroke:#fff;stroke-width:4;stroke-linecap:butt}
</style>
<script type='text/javascript'>
var bmousedown=0;
var val=0;

function start() {
	if (window.XMLHttpRequest) {
	http_request = new XMLHttpRequest();
	 } else if (window.ActiveXObject) {
	http_request = new
	 ActiveXObject("Microsoft.XMLHTTP");
	 }
	 http_request.onreadystatechange = function(){
		if (http_request.readyState == 4) {
			if (http_request.status == 200) {
				alert(http_request.responseText);
			 } else {
				alert("Response status: error " + http_request.status);
			 }		
		 } else {}	
	 };
}
	 
function get(url) {
	 http_request.open('GET',url,true);
	 http_request.send();
}
 
function setValue(v) {
	var nee = document.getElementById("needle");
		nee.setAttributeNS(null,"transform","rotate("+v+",150,143)");
}
 
function mMove(evt) {
	var msvg = document.getElementById("mainsvg");
	var offX = msvg.offsetLeft;
	var offY = msvg.offsetTop;
	var posX = evt.clientX - offX;
	var posY = evt.clientY - offY;

	if(bmousedown) {
		val = Math.round( Math.atan2( (posX - 150) , (-posY + 143) ) * 180/Math.PI );
		setValue(val);
		document.getElementById("maintext").textContent = val;
	}
 }
 
function mDown(evt) {
	bmousedown=1;
}

function mUp(evt) {
	if(bmousedown)
		get('http://localhost/Tower-Control/test.html');
	bmousedown=0;
}
</script>
</head>
<body onload="start()">
<svg id='mainsvg' xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 300 286" preserveAspectRatio="xMidYMid slice" style="width: 300px; height: 286px; display: block">
  <g>
    <rect width="300" height="286" ry="21" x="0" y="0" style="fill:#000"/>
	<circle cx="150" cy="143" r="140" stroke="#fff" stroke-width="4" fill="none"/>
	<path d="m 150 10 l 0 40" class="tick"/>
	<path d="m 17 143 l 40 0" class="tick"/>
	<path d="m 150 276 l 0 -40" class="tick"/>
	<path d="m 283 143 l -40 0" class="tick"/>
	<text x="150" y="143" dx="0" dy="8" id="maintext" text-anchor="middle" style="font-size:30px;fill:#ff8c00;font-family:Berlin Sans FB">180</text>
	<path id="needle" d="m 150 113 l 0 -100" class="tick" style="stroke-width:6"/>
	<rect width="300" height="286" ry="21" x="0" y="0" opacity="0" onmousemove="mMove(evt)" onmousedown="mDown(evt)" onmouseup="mUp(evt)" />
  </g>
</svg> 
</body></html>	